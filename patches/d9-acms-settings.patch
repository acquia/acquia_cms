diff --git a/core/assets/scaffold/files/default.settings.php b/core/assets/scaffold/files/default.settings.php
index afbe2332d4..2acbf20eb1 100644
--- a/core/assets/scaffold/files/default.settings.php
+++ b/core/assets/scaffold/files/default.settings.php
@@ -773,3 +773,28 @@
 # if (file_exists($app_root . '/' . $site_path . '/settings.local.php')) {
 #   include $app_root . '/' . $site_path . '/settings.local.php';
 # }
+
+// Auto-connect to the correct Acquia credentials file.
+use Acquia\DrupalEnvironmentDetector\AcquiaDrupalEnvironmentDetector;
+
+/**
+ * Site path.
+ *
+ * @var $site_path
+ * This is always set and exposed by the Drupal Kernel.
+ */
+// phpcs:ignore
+$site_name = AcquiaDrupalEnvironmentDetector::getSiteName($site_path);
+// Acquia Cloud settings.
+if (AcquiaDrupalEnvironmentDetector::isAhEnv()) {
+  $ah_group = AcquiaDrupalEnvironmentDetector::getAhGroup();
+  if (!AcquiaDrupalEnvironmentDetector::isAcsfEnv()) {
+    if ($site_name == 'default') {
+      require "/var/www/site-php/$ah_group/$ah_group-settings.inc";
+    } else {
+      // Acquia Cloud does not support periods in db names.
+      $safe_site_name = str_replace('.', '_', $site_name);
+      require "/var/www/site-php/$ah_group/$safe_site_name-settings.inc";
+    }
+  }
+}
